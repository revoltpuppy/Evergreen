/**
 * Header
 *
 * @section mod-header
 */

	/**
	 * Mobile Header Widgets
	 *
	 * Togglable dropdowns for internal user links and search bar.
	 */
	input[name="header-toggle"]{  //Don't show the checkboxes
		//display: none; Note, this causes a bug in Mobile Safari where one checkbox label canâ€™t be pressed immediately after another.
		position: absolute;  //Removes from the document flow
		visibility: hidden;  //Hides the beckbox
	}
	input + .header-dropdown{
		max-height: 0;
		overflow: hidden;
		-webkit-transition: .5s all ease;
		        transition: .5s all ease;
	}
	input:checked + .header-dropdown{
		max-height: 8em;
		-webkit-transition: .5s all ease;
		        transition: .5s all ease;
	}
	.internal-users,
	[role="search"]{
		//box model
		width: 100%;
	}
	
	.internal-users{
		overflow: hidden;
		background-color: mix(white, $blueberry-susan, 80%);
	}
	.internal-users > li{
		//box model
		padding: 0.673213669603561em;  //8/11.8833
		width: 50%;
		//layout
		float: left;
	}
	
	#search-flag + .header-dropdown{
		@media screen and (min-width:43em){
			max-height: none;
			overflow: visible;
		}
	}
	
	[role="search"]{
		margin: 0;
		padding: .618em;
		overflow: hidden;
		background-color: mix(white, $evergreen-neue, 80%);
		
		@media screen and (min-width:43em){
			//box model
			padding: .618em .618em .618em 0;  //Use padding for height calculations in JS.
			width: 40%;
			//layout
			float: right;
			//backgrounds & borders
			background-color: transparent;
		}
	}
	
	/**
	 * Logo
	 */
	.logo{
		width: 58%;
		margin: .618em 2% 0 2%;
		float: left;
		
		@media screen and (min-width:32em){
            width: 58%;
        }
        
        @media screen and (min-width:43em){
            width: 48%;
        }
        
        @media screen and (min-width:70em){
            width: 23%;
        }
	
		a,
		a:visited,
		a:hover{
			border-bottom-width: 0;
		}
	}
	/**
	 * Header Search
	 *
	 * @section mod-header-search
	 */
	[for="q"]{
		height: 0;
		width: 0;
		display: block;
		overflow: hidden;
		position: absolute;
	}
	.off-canvas{
		margin-right: 2%;
	}
	.search-toggle,   //button to reveal search
	.student-toggle{  //button to reveal profile
		//box model
		padding: 0 .618em;
		min-width: 22px;
		//layout
		float: right;
		//typography
		text-align: center;
		text-decoration: none;
		
		@media screen and (min-width:43em){
			display: none;
		}
	}
	.search-toggle{
		border-radius: 0 0 4.5px 0;
	}
	.student-toggle{
		border-right: 1px solid #333;
		border-radius: 0 0 0 4.5px;
	}
	.search-toggle,
	.student-toggle{
		border-bottom-width: 0;
	}
	.search-toggle:hover,
	.student-toggle:hover{
		//backgrounds & borders
		//background-color: $blueberry-susan; //Causes a weird bug on mobile that keeps active link purple
		//misc
		cursor: pointer;
	}
	.search-toggle > img,
	.student-toggle > img{
		margin: 0.441176470588235em auto;
		width: 17px;
		display: block;
	}
	.student-toggle > img{
		padding-top: 1px;  //Compensate for matching search icon height
	}
	#top-search-query,
	.top-search button{
		margin-bottom: 0;
		//font-size: 1em;
	}
	/*#top-search-query{
		//border: 1px solid #ccc;
		margin-right: -30px;
		margin-right: -1.719rem;
		position: relative;
		width: 100%;
		-webkit-appearance: none;
		   -moz-appearance: none;
	}*/
	[placeholder]:focus::-moz-placeholder{  //Firefox 19+
		color: transparent;
	}
	[placeholder]:focus::-webkit-input-placeholder{  //Safari & Chrome
		color: transparent;
	}
	/*.top-search button{
		border-width: 1px 1px 1px 0;
		height: 27.506px;  //IE8
		height: 1.719rem;
		padding: 2px;
		width: 27.506px;  //IE8
		width: 1.719rem;
		position: relative;
		background: none #fff;
		border-color: #ccc;
		border-radius: 0 0 0 0;
		vertical-align: top;
		cursor: pointer;
		-webkit-appearance: none;
		   -moz-appearance: none;
		box-shadow: none;
		
		&:hover{
			background-color: #ccc;
		}
	}*/
	/*.top-search-button{
		vertical-align: top;
		width: 18px;
	}*/
	.internal-users,
  .search-tools{
		margin-bottom: 0;
		@include base-type;
		
  	@media screen and (min-width: 32em){
			@include base-type-lg;
		}
	}
	.internal-users{
		margin-top: 0;
	}
	.search-tools{
		margin-left: 0;  //Can be removed once .element-list propogates on .search-tools
		padding-left: 0;  //Can be removed once .element-list propogates on .search-tools
		
		li{
			display: inline;
			
			&::after{
				content: " | ";
			}
			
			&:last-child::after{
				content: "";
			}
		}
	}
	
	li.internal-users-alt{
		display: none;
		
		@media screen and (min-width: 43em){
			display: inline;
		}
	}
    
.menu-button,
.search-toggle,
.student-toggle{
    @include x-rem(font-size, 1.063);  //17px
    line-height: 1.764705882352941;  //30/17
}

.top-nav,
.top-nav-list,
.menu-button,
.search-toggle,
.student-toggle{
    color: white;
    background-color: $evergreen-neue;
}
    
  /**
   * 3.1.2 Primary Nav
   *
   * @subsubsection mod-header-primary-nav
   */
  .top-nav-list{
  	//box model
    margin: 0 auto;
    margin-top: 0;
    width: 100%;
		min-height: 44px;
		//layout
    //display: table-row;
    //positioning
    position: relative;
    //tyopography
    text-align: center;
    //list
    list-style-type: none;
    
    @media screen and (min-width:20em){
			//layout
			display: -webkit-flex;
			    display: -ms-flexbox;  //IE10
    	        display: flex;
	    //flexbox
	    -ms-flex-align: stretch;  //IE10
	       align-items: stretch;
	    
	    > li{
	    	//box model
				border-left: 1px solid #333;
				min-height: 44px;  //IE8
				width: 21%;  //100/5
				//layout
		    //display: table-cell;  //IE8
		    display: inline-block;  //IE8, Safari 5
				display: -webkit-flex;
			      display: -ms-flexbox;  //IE10
				        display: flex;
		    overflow: hidden;
		    //vertical-align: middle;  //Works with table-cell, not with flex, so IE8
		    
		    &:first-child{
		    	border-left-width: 0;
					width: 16%;
				}
			}
    }
    
    @media screen and (min-width:32em){
			> li,
			> li:first-child{
				width: 20%;
			}
		}
	
		@media screen and (min-width:43em){
			> li{
				height: auto;
			}
		}
    
    &:before,
    &:after{
    	width: 0;
	    display: table;
	    clear: both;
	    content: "";
    }
	}
	
	.top-nav-link{
		//layout
		display: block;
		
		&:hover{
			//backgrounds & borders
			background-color: mix(white, $blueberry-susan, 33%);
			//typography
			color: white;
			//misc
			box-shadow: 0 0 2px $highlight inset;
			-webkit-transition: all .1s ease-out;
			        transition: all .1s ease-out;
			
		}
		
		&:focus{
			background-color: $blueberry-susan;
		}
		
		@media screen and (min-width: 20em){
			//layout
			display: -webkit-flex;  //Safari 7
			display:     -ms-flex;  //IE10
			display:         flex;
			-ms-flex-pack:           center;  //IE10
			-webkit-justify-content: center;  //Safari 7
			justify-content:         center;
			-ms-flex-align:      center;  //IE10
			-webkit-align-items: center;  //Safari 7
			align-items:         center;
			//typography
			font-weight: normal;
			//misc
			text-shadow: 0 1px 1em hsl(275, 33%, 11%);
		}
		
		@media screen and (min-width:70em){
			font-size: inherit;
			line-height: inherit;
		}
	}
	.top-nav-link,
	.top-nav-link:visited{
		//box model
		border-bottom-width: 0;
		padding: 17px 2px;  //IE8
		padding: 0.46875rem 0.25rem;  //7.5/16 2.48/16
		width: 100%;
		//typography
		color: #fff;
		
		@media screen and (min-width:22em){
			font-weight: bold;
		}
		
		@media screen and (min-width:32em){
			text-shadow: none;
		}
		
		@media screen and (min-width: 43em){
			font-weight: bold;
		}
	}
	
	.secondary-nav-list{
		//box model
		border-top: 1px solid $evergreen-old-style;
		margin: 0;
		padding: 0;
		//layout
		overflow: hidden;
		//typography
		text-align: center;
		//backgrounds & borders
		background-color: $evergreen-neue;
		@include background-default;
		//list
		list-style-type: none;
		
		> li:first-child{
			margin-top: 0.71315146386224em;  //7.5/10.5167
		}
		
		> li:last-child{
			margin-bottom: 1.42630292772448em;  //15/10.5167
		}
		
		@media screen and (min-width: 20em){
			> li:first-child,
			> li:last-child{
				margin: 0;
			}
			
			> li{
				margin: 0;
				width: 25%;
				//layout
				float: left;
				//typography
				line-height: 2.85260585544895;
			}
		}
		
		@media screen and (min-width: 22em){
			//layout
			display: -webkit-flex;  //Safari 7
			display:         flex;
			//flexbox
			-webkit-justify-content: flex-end;  //Safari 7
			        justify-content: flex-end;

			> li{
				//box model
				width: auto;
				//layout
				display: inline-block;  //IE9
				float: none;
				//typography
				white-space: nowrap;
			}
		}
		
		@media screen and (min-width: 43em){
			> li{
				@include base-type;
				line-height: 3.21428571428571;  //45/14
			}
		}
	}
	
	.secondary-nav-link{
	
		&,
		&:visited{
			//box model
			border-bottom: 0;
			height: 100%;
			width: 100%;
			//layout
			display: block;
			//typography
			color: white;
			font-weight: normal;
			
			@media screen and (min-width: 22em){
				//box model
				height: auto;
				padding: 0 1em;
				//layout
				display: inline-block;
			}
		
			@media screen and (min-width:70em){
				font-size: inherit;
				line-height: inherit;
			}
		}
		
		&:hover{
			//backgrounds & borders
			background-color: mix(white, $blueberry-susan, 33%);
			//typography
			color: white;
			//misc
			box-shadow: 0 0 2px $highlight inset;
			-webkit-transition: all .1s ease-out;
			        transition: all .1s ease-out;	
		}
		
		&:focus{
			background-color: $blueberry-susan;
		}
	}

.site-name{
	@include x-rem(margin-top, 3.75);  //60/16
	
	@media screen and (min-width:125em){
		h1{
			margin-right: 2%;
			margin-left: 2%;
		}
	}
	
	@media screen and (min-height:35em){  //Note this is a height-based media query
		h1{
			margin-bottom: 0.673904em;
		}
	}
}