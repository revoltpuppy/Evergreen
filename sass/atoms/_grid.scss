/**
 * Grid
 *
 * Unit layout and sizing for the grid system.
 *
 * @section grid
 */

.row{
	//box model
	width: 100%;
	//layout
	clear: both;
	display: block;
}

.grid{
	display: -webkit-flex;  // Safari
	display:         flex;
	-webkit-flex-wrap: wrap;  // Safari
	        flex-wrap: wrap;
	-webkit-justify-content: center;
	        justify-content: center;
}

.grid-list{  //Extends .grid
	-webkit-justify-content: flex-start;
	        justify-content: flex-start;
}

.unit-1-7,  // 7-column
.unit-2-7,
.unit-3-7,
.unit-4-7,
.unit-5-7,
.unit-6-7,
.unit-1-3,  // Switches from a one- to a three-column layout.
.unit-2-3,
.unit-1-2,
.unit-1-1{
	margin: 0 2%;
}

// I’m trying to update this so that box and grid gutters feel
// better at smaller sizes. I’m starting with just a few units
// for right now.

.unit-1-1{
	@media screen and (min-width: 43em){
		//box model
		width: 96%;
		//layout
		clear: left;
		float: left;
	}
	
	@media screen and (min-width: 70em){
		//box model
		margin: 0;
		width: 100%;
	}
}

.unit-1-3-alt{  // Switches up from a one- to a two- and then to a three-column layout.
	
	@media screen and (min-width: 43em){
		//box model
		margin: 0 1em 0 0;
		width: -webkit-calc(50% - .5em);  // Safari 6
		width:         calc(50% - .5em);
		//layout
		float: left;
		
		&:nth-child(even){
			margin-right: 0;
		}
	}
	
	@media screen and (min-width: 70em){
		margin: 0 2em 0 0;
		width: -webkit-calc(33.3333333333% - 1.6666666667%);  // Safari 6
		width:         calc(33.3333333333% - 1.6666666667%);
		
		&:nth-child(even){
			margin-right: 2em;
		}
		
		&:nth-child(3n){
			margin-right: 0;
		}
		
		&:nth-child(3n+1){
			clear: left;
		}
	}
}

.unit-1-7{
	margin: 0 1em 0 0;
	
	@media screen and (min-width: 43em){
		//box model
		width: 10.285714285714286%;  //deprecated
		width: -webkit-calc(14.285714285714% - 2em);  // Safari 6
		width:         calc(14.285714285714% - 2em);
		//layout
		float: left;
	}
}

.unit-2-7{
	margin: 0;
	
	@media screen and (min-width: 43em){
		//box model
		margin: 0 2em 0 0;
		width: -webkit-calc(28.571428571429% - 1.3333333333em);  // Safari 6
		width:         calc(28.571428571429% - 1.3333333333em);
		//layout
		float: left;
	}
}

.unit-3-7{
	margin: 0;
	
	@media screen and (min-width: 43em){
		//box model
		margin: 0 2em 0 0;
		width: -webkit-calc(42.857142857143% - 1.3333333333em);  // Safari 6
		width:         calc(42.857142857143% - 1.3333333333em);
		//layout
		float: left;
	}
}

.standalone-unit{
	padding: 0 1em;
}

.unit-1-3-alt:last-child,
.unit-1-7:last-child,
.unit-2-7:last-child{
	margin-right: 0;
}

.unit-1-2{
	//box model
	width: 96%;
	//layout
	float: left;
	
	@media screen and (min-width: 32em){
		//box model
		margin: 0 2%;
		width: 46%;
		//layout
		float: left;
	}
}

.unit-1-3{  // Switches from a one- to a three-column layout.
	@media screen and (min-width: 43em){
		//box model
		width: 29.3333333333%;
		//layout
		float: left;
	}
}

.unit-1-3-alt{  // Switches up from a one- to a two- and then to a three-column layout.
	@media screen and (min-width: 43em){
		//box model
		width: 46%;
		//layout
		float: left;
	}
	
	@media screen and (min-width: 70em){
		//box model
		width: 29.3333333333%;
		//layout
		float: left;
	}
}

.unit-2-3{
	@media screen and (min-width:43em){
		width: 62.66666666667%;
		float: left;
	}
}

@media screen and (min-width:43em){
	.unit-2-6,
	.unit-4-6,
	.unit-4-7,
	.unit-5-7,
	.unit-6-7{
		margin: 0 2%;
		float: left;
	}
	.unit-4-7{
		width: 53.142857142857143%;
	}
	.unit-5-7{
		width: 67.428571428571429%;
	}
	.unit-6-7{
		width: 81.714285714285714%;
	}
	
	.push-1{
		margin-left:16.285714285714286%;
	}
}

/**
 * Supplemental Content
 *
 * section @supplement
 */

@media screen and (min-width:20em){
	.right,  //deprecated
	.supplement,  //This should mirror .supplement-1-2; it’s just a more user-friendly name
	.supplement-1-2,
	.supplement-2-7{  //deprecated
	    //box model
	    margin-left: 6%;
	    width: 47%;
	    //layout
	    float: right;
	}
}
@media screen and (min-width:22em){
	.supplement-2-7{  //deprecated
		width: 31.3333333333%;
	}
}
@media screen and (min-width:32em){
	.supplement-2-7{  //deprecated
		width: 26.571428571428571%;
	}
	.supplement-3-7{  //deprecated
		margin-left: 2%;
		width: 40.857142857142857%;
		float: right;
	}
}
@media screen and (min-width: 43em){
	.right,  //deprecated
	.supplement,
	.supplement-1-2{
		//box model
		margin-right: -6.544901065449%;
		width: 53.500761035008%;
	}
}

.supplement-alt-1-2,
.supplement-alt-2-7{  //deprecated
  @media screen and (min-width: 20em){
	  //box model
	  margin-left: 6%;
	  width: 47%;
	  //layout
	  float: right;
	}
	@media screen and (min-width: 32em){
		width: 38.260135135135135%;  //It took weird math to get here.
	}
	@media screen and (min-width: 70em){
		//box model
		margin-right: 0;
		margin-left: -41.722972972972973%;  //It took weird math to get here.
		//layout
		float: left;
		//typography
		@include base-type;
	}
	@media screen and (min-width: 125em){
		@include base-type-lg;
	}
}