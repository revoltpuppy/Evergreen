/**
 * III. Module Styles
 *
 * Styles for specific or reusable, components.
 *
 * Table of Contents
 * 
 * A. Header
 * B. Background Image
 * C. Homepage Hero Image
 * D. Tertiary Nav
 * E. Page Footer
 * F. Special Typography
 * G. Lists
 * H. Tables
 * I. Icons
 * J. Media Segment
 * K. Boxes
 * L. Images
 * M. Calendars
 * N. News
 * O. Embedded Content
 * P. CMS
 */

.top-links,
.search-list,
.primary-nav-unit h2,
.nav li{
	font-size: .743rem;
	line-height: 1.262201279030629; // 15/11.884
}
/**
 * A. Header
 */
@import "modules/header";
    
/**
 * B. Background Image
 */
.main-background,  // deprecated, use main-background2
.main-background2{
	// box model
	width:100%;
	max-height: 100vh;
	// positioning
	position: fixed;
	top: 0;
	left: 0;
	z-index: -1;
	
	@media screen and (min-width: 43em){
		width: 100%;
	}

	.main-background-img,
	> img{
		width: 100%;
		display: block;
	  
	  @include breakpoint($gamora){
		  width: auto;
		  max-width: 60%;  // 3/5
	  }
		@include breakpoint($drax){
			max-width: 57.142857142857143%;  // 4/7
			//max-width: 799px;
		}
	}
}

.main-background2{
	position: sticky;
	
	> .main-background-img,
	> img{
		// box model
		max-height: 100vh;
		// position
		position: absolute;
	}
}

/**
 * C. Homepage Hero Image
 */
@import "modules/homepage-hero";
    
.profile-list > li{
	// box model
	//@include margin-default;
	// layout
	overflow: hidden;
	// position
  position: relative;
  
  @media screen and (min-width: 43em){
    //@include margin-default-lg;
  }
}
.profile-img{
	// box model
	margin-left: -50%;
  width: 200%;
  max-width: 685px;
  // layout
  display: block;
  
  @media screen and (min-width: 20em){
    margin-left: -25%;
    width: 150%;
  }
  
  @media screen and (min-width: 32em){
    margin-left: 0%;
    width: 100%;
  }
  
  @media screen and (min-width: 43em){
    width: 120%;
    margin-left: -10%;
  }
  
  @media screen and (min-width: 60em){
    width: 100%;
    margin-left: 0%;
  }
}
.profile-list .box{
	margin-top: -1.40625rem;  //22.5/16
  //margin-top: -2.142857142857143em;  //30/14
  position: absolute;
  bottom: 0;
}

/**
 * D. Tertiary Nav
 */
@import "modules/tertiary-nav";

/**
 * E. Page Footer
 */
@import "modules/footer";

/**
 * F. Special Typography
 *
 * Special, non-base element typography.
 */
.lead{
    margin-bottom:0;
}
.follow{
    margin-top:0;
}

.intro{
	// box model
	margin: 1.169925124792013em 0;  // 22.5/19.232
	// typography
	color: $evergreen-neue;
	font-size: 1.202rem;  // 19.232px
	line-height: 1.559900166389351;  // 30/19.232
	
	@media screen and (min-width: 43em){
		// box model
		margin: 1.09075043630017em 0;  // 30/27.504
		// typography
		font-size: 1.719rem;  // 27.504
		line-height: 1.363438045375218; // 37.5/27.504
	}
	
	@media screen and (min-width: 125em){
		// box model
		margin: 1.44601542416452em 0;  // 45/31.12
		// typography
		font-size: 1.945rem;  // 31.12
		line-height: 1.44601542416452;  // 45/31.12
	}
}
	
.intro-alt{
	color: #333;
	font-weight: bold;
}

.details{
	font-size: .657rem;  // 10.507px;
	line-height: 1.427619682116684;  // 15/10.507
}

.big-fact{
	@include base-type-lg;
	
	@media screen and (min-width:43em){
		margin: .2727272727em 0 .8181818182em 0;
	}
	
	@media screen and (min-width:70em){
		font-size: 1.719rem;  // 20px
		line-height: 1.090710779858208;  // 30/27.505
	}
}

.key-number{  // e.g. http://www.evergreen.edu/about/impact/
	// box model
	margin: 0.818419903972065em 0 0 0;
	// layout
	display: block;
	// typography
	color: $evergreen-neue;
	font-size: 2.291rem;  // 36.656px
	font-weight: normal;
	line-height: 1.227629855958097;  // 45/35.656
}

.machine-text{
	font-family: Consolas, "Liberation Mono", Courier, "Courier New", monospace;
}

.main-content > p:last-child::after,
.main-content > ul:last-child > li:last-child::after,
.main-content > ol:last-child > li:last-child::after,
.main-content > dl:last-child > dd:last-child::after{
	white-space: nowrap;
	content: "\00A0" url("/_inc/images/endnote.png");
	
	@media (-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 150dpi){
		content: "\00A0" url("/_inc/images/endnote.svg");
	}
}

/**
 * G. Lists
 */
@import "modules/lists";

/**
 * H. Tables
 */
.dataTable{
	//font-family: "Proxima Nova Condensed", "Avenir Next Condensed", "Avenir", Helvetica, Arial, sans-serif;
	
	/*@include breakpoint($starlord){
		font-family: $text-face;
	}*/
}

/**
 * I. Icons
 */
@import "modules/icons";
    
/**
 * J. Media Segment
 */
@import "modules/media-segment";

/**
 * K. Boxes
 */
@import "modules/boxes";

/**
 * L. Images
 */
@import "modules/images";


/**
 * M. Calendars
 *
 * @section mod-event-calendar
 */
	/**
	 * 1. Event Calendar
	 *
	 * @section mod-event-calendar
	 */	
	.calendar-dt{
		// box model
		border: 1px solid mix(white, $blueberry-susan, 66%);
		margin: 0 auto;
		width: 3em;
		// layout
		overflow: hidden;
		// typography
		text-align: center;
		// backgrounds and borders
		background-color: hsl(0, 0%, 95%);
		border-radius: 2px;
	}
	
	.calendar-month{
		// box model
		padding: 0 .5em;
		width: 100%;
		// layout
		display: block;
		// typography
		color: hsl(0, 0%, 100%);
		@include small-type;
		font-weight: bold;
		letter-spacing: 0.1em;
		text-transform: uppercase;
		// backgrounds and borders
		background-color: $wine;
	}
	
	.calendar-dt-mini{  // A calendar that starts small and then expands to normal size.
		@media screen{
			width: 2em;
			
			.calendar-month{
				// box model
				//height: 2px;
				padding: 0;
				min-height: 0.875rem;  // 14/16; magic number - the smallest size that accomodates the text
				// layout
				//overflow: hidden;
				// typography
				//color: transparent;
				font-size: 0.625rem;  // 10/16; magic number - the biggest font size it can be and still fit in the box
				font-weight: normal;
			}
			
			.calendar-day{
				// box model
				height: 1.42857em;  // matches line-height of type
				// layout
				display: block;
			}
		}
	}
	
	.calendar-dt-null{
		background-color: mix(white, $blueberry-susan, 80%);
		
		.calendar-month{
			background-color: mix(white, $blueberry-susan, 60%);
		}
	}
	
	
	
	/**
	 * 2. Homepage Upcoming Events
	 *
	 * The box on the homepage featuring upcoming events from the
	 * calendar. This should track pretty closely to the tertiary
	 * nav higher up on the page.
	 *
	 * @section mod-upcoming-events-homepage
	 */
	.upcoming-events-homepage{
		// box model
		margin: 0 auto;
		
		.media{
			border-bottom: 1px solid mix(white, $blueberry-susan, 66%);
		}
		
		.media-body{
			text-align: center;
		}
		
		@media screen and (min-width: 32em){
			margin: 0 auto 1rem;
			max-width: 66.6666666666%;
		}
		
		@media screen and (min-width: 43em){
			// box model
			margin-top: 1rem;
			margin-left: -24.58203125%;  // 442/2048 + 3%
			width: 21.58203125%;  // 442/2048
			// typography
			@include base-type;
			// position
			position: absolute;  // Removes nav from the document flow
		}
		
		@media screen and (min-width: 70em){
			// box model
			margin-left: -25.520833333333%;
			width: 23.484848484848%;
			@include base-type-lg;
			
			li{
				@include margin-default-lg;
			}
		}
	}
	
	.upcoming-events-homepage2 {
		margin: 0 auto;
	
		@include breakpoint($gamora) {
			// typography
			@include base-type;
		}
		
		@include breakpoint($drax){
			// typography
			@include base-type-lg;
		}
		
		@include breakpoint($groot){
			// typography
			@include base-type-xl;
		}
		
		li {
			@include margin-default;
			
			@include breakpoint($drax){
				// box model
				@include margin-default-lg;
			}
		}
	}
	
	.upcoming-events-list-wrapper{
		overflow: hidden;
		position: relative;
		
		@include breakpoint($gamora){
			overflow-x: visible;
		}
	}
	
	.grid.upcoming-events-list{
		// layout
		flex-wrap: nowrap;
		justify-content: flex-start;
		overflow-x: visible;
		overflow-y: auto;
		// scrolling
		scroll-behavior: smooth;
		scroll-snap-destination: 0 0;
		scroll-snap-points-x: repeat(0%);
		scroll-snap-type: mandatory;
		
		@include breakpoint($lil-groot){
			//scroll-snap-points-x: repeat(60%);
		}
		
		@include breakpoint($starlord){
			//scroll-snap-points-x: repeat(71%);
		}
		
		@include breakpoint($gamora){
			// layout
			flex-wrap: wrap;
			justify-content: center;
			// scrolling
			scroll-snap-type: none;
		}
		
		> .unit-1-7{
			// box model
			width: 66.666666%;  // magic number: allows next event to peek out, indicating horizontal scrolling
			// layout
			flex-shrink: 0;
			// scrolling
			scroll-snap-coordinate: 0 0;
			
			@include breakpoint($lil-groot){
				width: 40%;  // magic number: allows next event to peek out, indicating horizontal scrolling
			}
			
			@include breakpoint($starlord){
				width: 29%;  // magic number: allows next event to peek out, indicating horizontal scrolling
			}
			
			@include breakpoint($gamora){
				// box model
				width: 14.285714285714%;
				// layout
				flex-shrink: 1;
			}
			
			&:last-child{
				scroll-snap-coordinate: -50% 0;
			
				@include breakpoint($lil-groot){
					scroll-snap-coordinate: -150% 0;
				}
				
				@include breakpoint($starlord){
					scroll-snap-coordinate: none;
				}
			}
		}
		
		&::after{  // pseudo-element that adds a drop shadow
			// box model
			height: 100%;
			width: 100%;
			// layout
			display: block;
			position: absolute;
			top: 0;
			right: -100%;
			// miscellaneous
			box-shadow: -0.25em 0 1em $drop-shadow;
			content: "";
			
			@include breakpoint($gamora){
				display: none;
			}
		}
		
		.media-body{
			text-align: center;
		}
	}
	
	/**
	 * 3. Schedule of Events
	 *
	 * @section mod-event-calendar
	 */
	.schedule{
		@include margin-default;
		
		.h-event{
			// box model
			padding: 1em;
			// layout
			display: flex;
			flex-direction: column;
			overflow: hidden;
			// backgrounds & borders
			border-radius: 2px;
			
			&:nth-child(even){
				background-color: mix(white, $blueberry-susan, 85%);
			}
		}
		
		.schedule-event-required{
			border: 2px solid $evergreen-neue;
			
			+ .schedule-event-required{
				margin-top: 2px;
			}
			
			&:nth-of-type(odd){
				background-color: mix(white, $evergreen-neue, 90%);
			}
			
			&:nth-of-type(even){
				background-color: mix(white, $evergreen-neue, 80%);
			}
			
			.p-name{
				color: $evergreen-old-style;
			}
		}
		
		.schedule-event-morning{
			background-color: $morning-light;
		}
		
		.schedule-event-evening{
		
			&:nth-of-type(odd){
				background-color: mix(white, $sky-blue, 90%);
			}
			
			&:nth-of-type(even){
				background-color: mix(white, $sky-blue, 80%);
			}
			
			.p-name{
				color: mix(black, $sky-blue, 60%);
			}
		}
		
		.schedule-event-evening-start::before{
			// box model
			border-bottom: 1px solid $sky-blue;
			width: 100%;
			// layout
			display: block;
			// typography
			text-align: center;
			// misc
			content: "Evening Events";
		}
		
		
		
		.schedule-event-time{
			// box model
			padding-right: 1em;
			// typography
			color: $evergreen-old-style;
			font-weight: bold;
		}
		
		.schedule-event-details{
		}
	}
	
	/**
	 * 4. Bulletin
	 *
	 * The section that says, “This is Week X”.
	 *
	 * @section mod-event-calendar
	 */
	.bulletin{
		// box model
		border-bottom: 1px solid mix(white, $blueberry-susan, 60%);
		// backgrounds & borders
		background-color: mix(white, $blueberry-susan, 90%);
		// typography
		@include base-type;
		
		@include breakpoint($drax){
			@include base-type-lg;
		}
		
		> .wrapper{
			width: calc(100% - 2em);  // min-margins
		}
	}
	
	.bulletin .grid{
		align-items: center;
	}
	
	.bulletin-header,
	.bulletin-body{
		width: 100%;
		padding-left: 1em;  // grid system
	}
	
	.bulletin-header{		
		@include breakpoint($lil-groot){
			width: 33.3333333333%;
		}
		
		@include breakpoint($gamora){
			width: 14.285714285714%;
		}
		
		h2{
			// box-model
			@include margin-default;
			// typography
			text-align: left;
			
			@include breakpoint($lil-groot){
				// typography
				text-align: right;
			}
		}
	}
	.chrono-meter{
		// box model
		width: 100%;
		// layout
		display: flex;
		justify-content: space-between;
		
		@include breakpoint($lil-groot){
			// box model
			margin-right: 1em;
			width: auto;
			// layout
			flex-direction: column;
			float: left;
			overflow: hidden;
		}
		
		@include breakpoint($gamora){
			// box model
			margin-right: 0;
			width: 100%;
			// layout
			flex-direction: row;
			justify-content: space-between;
		}
	}
		
	.chrono-meter	> li{
		// box model
		border: 1px solid mix(white, $blueberry-susan, 60%);
		height: 7.5px;
		width: 7.5px;
		// layout
		display: inline-block;
		
		@include breakpoint($lil-groot){
			// box model
			margin-bottom: 2px;
			// layout
			clear: left;
			float: left;
			// backgrounds & borders
			border-radius: 2px;
		}
	}
	.chrono-stop-current{
		// backgrounds & borders
		background-color: mix(white, $blueberry-susan, 80%);
	}
	.chrono-stop-complete{
		// backgrounds & borders
		background-color: mix(white, $blueberry-susan, 60%);
	}
	
	.bulletin-body{
		@include breakpoint($lil-groot){
			width: 66.6666666667%;
		}
		
		@include breakpoint($gamora){
			width: 85.714285714286%;
		}
	}
	.bulletin-calendar{
		@include breakpoint($gamora){
				display: flex;
		}
	}
	.bulletin-calendar > li{
		@include breakpoint($gamora){
			float: left;
			padding-left: 1em;
			width: 33.333333333%;
		}
	}

/**
 * N. News
 */
.news{
  // box model
  border-top: 1px solid #d1cad6;
  border-bottom: 1px solid #d1cad6;
  // layout
  overflow: hidden;
  // backgrounds & borders
  background-color: #E3DFE6;
}

.news-wrapper{
  // box model
  margin: 0 auto;
  width: calc(100% - 2em);
}

.news-story{
  // box model
  border: 1px solid #ccc;
  height: calc(100% - 1em);
  margin-bottom: 1em;
  padding: 1em 1em 0;
  // typography
  color: #333;
  //font-family: "Minion Pro", Minion, "Times New Roman", Times, serif;
  // backgrounds and borders
  background-color: #f3f3f3;
  border-radius: 2px;
  // misc
}

/**
 * O. Embeded Content
 */
.lazy-load{
  // box model
  border-bottom-width: 0;
  max-width: 100%;
  // layout
  display: block;
  overflow: hidden;
  // position
  position: relative;
  
  &::after{
		// box model
		height: 100%;
		width: 100%;
		// layout
		align-items: center;
		display: flex;
		justify-content: center;
		// position
		position: absolute;
		top: 0;
		// typography
		text-align: center;
		// backgrounds & borders
		background-image: url(http://evergreen.edu/_inc/images/texture-1.png);
		// misc
		content: url(http://evergreen.edu/_inc/images/icons/green/play.png);
  }
  
  &:hover::after{
    opacity: .85;
  }
  
  img{
  	// box model
  	margin: 0;
  	// layout
	  display: block;
  }
}

.blog .entries{
	// box model
	margin-left: 0;
	padding-left: 0;
	// list
	list-style-type: none;
}

.blog .entry{
	// layout
	overflow: hidden;
}

/**
 * P. CMS
 *
 * Styles to make the CMS WYSIWYG editor look nice. Not seen on
 * published site.
 */

#tinymce{  // WYSIWYG
	// box model
	margin: 0 auto;
	padding: 0 2em;
	max-width: 48em;
	// layout
	display: block;
}

#toolbar{  // Drupal
	box-shadow: 0 1px .25em $drop-shadow;
}